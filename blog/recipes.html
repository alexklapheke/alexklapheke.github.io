<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<meta name="generator" content="pandoc" />
		<meta name="author" content="Alexander Klapheke">
		<meta name="robots" content="index,follow">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="last-modified" content="">

		<link rel="canonical" href="https://alexklapheke.github.io/blog/recipes.html">
		<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
		<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
		</style>
		<link rel="stylesheet" href="../include/style.css" />
		<link rel="stylesheet" href="../include/blog.css" />
		<!--[if lt IE 9]>
			<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
		<![endif]-->
		<script src="../include/sidenotes.js" charset="utf-8"></script>
		<script src="../include/sorttable.js" charset="utf-8"></script>

		<title>How I use org-mode to organize my recipes</title>
	</head>
	<body>
		<header>
			<!-- http://microformats.org/wiki/hcard -->
			<div class="author vcard">
			<h1>
				<a href="https://alexklapheke.github.io">
				<span class="given-name">Alexander</span>
				<span class="family-name"><abbr class="ipa" lang="x-ipa" title="[kl&#601;&#39;pik]">Klapheke</abbr></span>
				</a>
			</h1>

				<div id="contact">
					<!-- http://hcard.geekhood.net/encode/ -->
					<a
					class='email
					href="mailto:x@y"
					'
					href
					=	'
					&#x20;&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#58;%20&#x61;&#x6c;&#x25;6&#x35;%7&#x38;&#x25;&#54;&#98;la&#x25;7&#x30;h&#37;6&#x35;&#x25;&#x36;&#x62;&#37;&#x36;&#x35;&#37;&#x34;0&#x67;&#109;&#97;%&#x36;9l&#x25;&#50;&#101;%&#x36;&#51;&#111;&#x6d;&#x3f;
					'>&#97;&#x6c;&#x65;&#120;&#x6B;lap&#x68;&#x65;k<!--
					mailto:abuse@hotmail.com
					</a>
					-->&shy;&#x65;&#64;&#103;&#109;&#x61;i&#108;&#x2E;&#99;&#x6f;&#109;</a>
					<br>
					<a href="../0xBCB7A837.asc">Public key</a> <span class="grayed">(<abbr title="F1BD E18B 7525 95A9 7BC4 FB04 A349 9FF5 2DF0 94AB">fingerprint</abbr>)</span>

					<br><br>

					<a class="social" href="https://github.com/alexklapheke">GitHub</a> <span class="bullet">&bull;</span>
					<a class="social" href="https://linkedin.com/in/alexander-klapheke">LinkedIn</a> <span class="bullet">&bull;</span>
					<a class="social" href="../AlexanderKlapheke-Resume.pdf">R&eacute;sum&eacute;</a>
				</div>
			</div>

			<p id="blurb">I&rsquo;m a data scientist and self-taught coder (Python, R, Haskell) with a background in linguistics and math and over 10 years&rsquo; experience explaining technical concepts to laypeople.</p>

		</header>
		<article class="hentry">
		<div id="titleblock">
		<h1 class="entry-title">How I use org-mode to organize my recipes</h1>
		<p>
			<time datetime="2020-07-05T14:28:24-0400" class="published">Sunday, July 5, 2020</time>
			<span class="bullet">&bull;</span>
			<span class="wordcount">1,918 words</span>
			<span class="bullet">&bull;</span>
			<span class="license"><abbr title="Licensed under Creative Commons Attribution 4.0"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC-BY</a></abbr></span>
			<span class="bullet">&bull;</span>
			<a class="source" href="https://raw.githubusercontent.com/alexklapheke/alexklapheke.github.io/master/blog/recipes.md">View source</a>
		</p>
		</div>
		<nav id="TOC">
<ul>
<li><a href="#file-structure"><span class="toc-section-number">1</span> File structure</a></li>
<li><a href="#recipe-structure"><span class="toc-section-number">2</span> Recipe structure</a></li>
<li><a href="#adding-recipes"><span class="toc-section-number">3</span> Adding recipes</a></li>
<li><a href="#final-thoughts"><span class="toc-section-number">4</span> Final thoughts</a></li>
</ul>
		</nav>
			<div class="entry-content">
<div class="epigraph">
<p>Here the Red Queen began again. &#8220;Can you answer useful questions?&#8221; she said. &#8220;How is bread made?&#8221;</p>
<p>&#8220;I know <em>that</em>!&#8221; Alice cried eagerly. &#8220;You take some flour&#8212;&#8221;</p>
<p>&#8220;Where do you pick the flower?&#8221; the White Queen asked. &#8220;In a garden, or in the hedges?&#8221;</p>
<p>&#8220;Well, it isn&#8217;t <em>picked</em> at all,&#8221; Alice explained: &#8220;it&#8217;s <em>ground</em>&#8212;&#8221;</p>
<p>&#8220;How many acres of ground?&#8221; said the White Queen. &#8220;You mustn&#8217;t leave out so many things.&#8221;</p>
</div>
<p>Cooking is a major hobby of mine, and for a long time, I kept recipes either in text files or printed PDFs in a poorly organized folder on my hard drive. It was hard to find specific recipes (did I file <a href="https://www.tastemade.com/shows/thirsty-for/mexican-horchata">horchata</a> under &#8220;Drinks&#8221; or &#8220;Mexican&#8221;?), hard to remember whether I had made a recipe before (and whether it was any good), and pretty much impossible to search for complicated things like &#8220;recipes without seafood&#8221; or &#8220;recipes that take less than an hour&#8221;. To make things worse, the whole folder was cluttered with useless infographics and spreadsheets.</p>
<p>I recently discovered <a href="https://orgmode.org/">org-mode</a>, an organization system for the <a href="https://www.gnu.org/software/emacs/">Emacs</a> text editor, and while there is a bit of a learning curve, it is the best organization tool I&#8217;ve ever used. I took a few days last winter to wrangle my recipe collection into something manageable. I had the following criteria for my setup:</p>
<ul>
<li>Recipes can easily be copied from websites without adding a lot of formatting/structure.</li>
<li>Recipes can be searched or filtered based on common metadata, such as yield or cooking time.</li>
<li>There is a space to add &#8220;cooking notes&#8221;, so the next time I make the recipe I&#8217;ll remember what happened the first time (say, substitutions I made or steps that were unclear).</li>
<li>It is obvious where any particular recipe should be placed.</li>
</ul>
<p>After playing with some possible schemes, I settled on the one below.</p>
<section id="file-structure" class="level1">
<h1><span class="header-section-number">1</span> File structure</h1>
<p>All my recipes are in the single file <code>Cooking.org</code>, the basic structure of which is below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode org-mode"><code class="sourceCode orgmode"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#+TITLE:</span><span class="st"> Recipes</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#+STARTUP:</span><span class="st"> indent align overview</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#+TODO:</span><span class="st"> NEVERMADE(n) | HAVEMADE(h@)</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#+TAGS:</span><span class="st"> { weekday weekend } { vegetarian seafood } glutenfree breakfast instantpot slowcooker</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#+TAGS:</span><span class="st"> { { asian : chinese(c) japanese(j) korean(k) vietnamese(v) } lebanese(l) indian(i) }</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="cf">* Meals:</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="fu">** Meats:</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="fu">** Vegetables, stir-fries, &amp; curries:</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="fu">** Rice/orzo &amp; grains:</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="fu">** Pasta &amp; noodles:</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="fu">** Soups, stews, &amp; casseroles:</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="fu">** Salads:</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="fu">** Sandwiches:</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="fu">** Breakfast eggs &amp; grains:</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="cf">* Condiments &amp; snacks:</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="fu">** Pickles &amp; preserves:</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="fu">** Sauces &amp; toppings:</span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="fu">** Snacks &amp; dips:</span></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="cf">* Baked goods:</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="fu">** Savory breads/rolls:</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="fu">** Sweet breads/rolls:</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="fu">** Batters:</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="fu">** Cakes &amp; tortes:</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="fu">** Pies, tarts, &amp; cobblers:</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="fu">** Pastries, custards/curds, &amp; ice cream:</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="fu">** Cookies:</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="cf">* Drinks:</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="fu">** Hot drinks:</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="fu">** Cold drinks:</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="cf">* Projects:</span></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="fu">** Brewing:</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="fu">** Dairy:</span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="fu">** Bread &amp; noodles:</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="fu">** Candy:</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="cf">* Notes:</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="fu">** Price book:</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="fu">** Unsorted recipes:</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="fu">** Settings:</span></a></code></pre></div>
<p>The first few lines, starting with <code>#+</code>, make up the file header. The <code>#+STARTUP</code> line defines some <a href="https://orgmode.org/manual/In_002dbuffer-settings.html#index-_0023_002bSTARTUP">settings</a> for when I open the file. The most important is <code>overview</code>, which makes sure only the headings are shown, and not all ~30,000 lines of text. Unfortunately, this only shows top-level headings. I can use <kbd>M-2 S-Tab</kbd><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> to see the second-level headings as well, or <kbd>M-3 S-Tab</kbd> to see all recipes, although at this point, I have far too many for the latter to be useful.</p>
<p>I also define <a href="https://orgmode.org/manual/Tags.html">tags</a> and <a href="https://orgmode.org/manual/TODO-Items.html">TODO states</a>, the latter of which let you mark an item as being in any of various states of completion. The <code>@</code> after the <code>HAVEMADE</code> state means that when I mark a recipe as <code>HAVEMADE</code>, org should prompt me to <a href="https://orgmode.org/manual/Tracking-TODO-state-changes.html">leave a note</a>. Thus, after I make a recipe, I can jot down what went well and what I should change next time. The tags define ancillary properties of the recipe&#8212;whether it is gluten-free, what part of the world it comes from&#8212;and tags surrounded with curly braces are mutually exclusive, such as <code>{ vegetarian seafood }</code>.</p>
<p>In the body of the file, the recipes are organized into first- and second-level <a href="https://orgmode.org/manual/Headlines.html">headings</a>, starting with <code>*</code> and <code>**</code>, respectively. The tacit rule is that recipes within a category should substitute for each other&#8212;thus, <code>Cakes &amp; tortes</code> is a valid category because <a href="https://smittenkitchen.com/2015/12/tres-leches-cake-a-taco-party/">tres leches cake</a> could substitute for <a href="https://www.americastestkitchen.com/recipes/9648-olive-oil-cake">olive oil cake</a>; but it couldn&#8217;t substitute for <a href="https://www.budgetbytes.com/pickled-red-onions/">pickled red onions</a>, so it wouldn&#8217;t make sense to group them under a <code>Mexican</code> heading.</p>
<p>The final top-level heading is <code>Notes</code>. The first thing here is a <a href="https://en.wikipedia.org/wiki/Price_book">price book</a>&#8212;a simple table of ingredients I buy often, and at which nearby grocery stores they are cheapest, with the cheapest price in bold.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> I also rounded up to the nearest dime to make mental math easier, and combat stores&#8217; <a href="https://en.wikipedia.org/wiki/Psychological_pricing">psychological tricks</a>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode org-mode"><code class="sourceCode orgmode"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">** Price book:</span></a>
<a class="sourceLine" id="cb2-2" title="2">- Rules of thumb:</a>
<a class="sourceLine" id="cb2-3" title="3">  - Apple/peach/onion :: 1/2lb ($1/ @ $2/lb, $1.50/ @ $3/lb)</a>
<a class="sourceLine" id="cb2-4" title="4">  - Banana :: 1/3lb (15&#162;/ @ 50&#162;/lb)</a>
<a class="sourceLine" id="cb2-5" title="5">  - Head of garlic :: 1/8lb</a>
<a class="sourceLine" id="cb2-6" title="6">  - Chicken drumstick :: 7oz</a>
<a class="sourceLine" id="cb2-7" title="7">| Food               | Trader Joe&#39;s | Whole Foods |</a>
<a class="sourceLine" id="cb2-8" title="8">|--------------------+--------------+-------------|</a>
<a class="sourceLine" id="cb2-9" title="9">| Milk (1/2gal)      | *$1.70*      | $2.20       |</a>
<a class="sourceLine" id="cb2-10" title="10">| Eggs (dozen large) | *$2*         | $3          |</a>
<a class="sourceLine" id="cb2-11" title="11">| Butter (4 sticks)  | *$3*         | $3.50       |</a>
<a class="sourceLine" id="cb2-12" title="12">| Coffee (12oz)      | $4           | $4          |</a>
<a class="sourceLine" id="cb2-13" title="13">| Garlic (head)      | 70&#162;          | *~50&#162;*      |</a>
<a class="sourceLine" id="cb2-14" title="14">| Lemon              | 50&#162;          | 50&#162;         |</a></code></pre></div>
<p>The second subheading under <code>Notes</code> is <code>Unsorted Recipes</code>, where recipes are automatically placed when added (see <a href="#adding-recipes">below</a>).</p>
<p>Finally, a <code>Settings</code> subheading contains the <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Specifying-File-Variables.html">in-file settings</a>&#8212;this must be the last thing in the file. The first line sets the <a href="https://orgmode.org/manual/Refile-and-Copy.html">refile</a> targets to the second-level headings, so recipes can easily be moved between categories while keeping them at the third heading level. The second line sets <a href="https://orgmode.org/manual/Setting-tags.html"><code>org-tags-column</code></a> to <code>-105</code> from the default value of <code>-77</code>. I have a lot of tags on recipes, and this reduces visual clutter by moving them farther to the right.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode org-mode"><code class="sourceCode orgmode"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">** Settings:</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co"># Local variables:</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co"># org-refile-targets: ((&quot;~/org/Cooking.org&quot; :level . 2))</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co"># org-tags-column: -105</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co"># End:</span></a></code></pre></div>
<p>As a final bonus, this structure makes it easy to see how many recipes I have: hit <kbd>M-!</kbd> to get a shell prompt, then run <code class="sourceCode bash"><span class="fu">grep</span> <span class="st">&#39;^\*\*\*&#39;</span> Cooking.org <span class="kw">|</span> <span class="fu">wc</span> -l</code>.</p>
</section>
<section id="recipe-structure" class="level1">
<h1><span class="header-section-number">2</span> Recipe structure</h1>
<p>The third level is for the recipes themselves. These basically consist of a <a href="https://orgmode.org/manual/Property-syntax.html">properties drawer</a> for the metadata, a <a href="https://orgmode.org/manual/Checkboxes.html">checklist</a> for the ingredients, and a <a href="https://orgmode.org/manual/Plain-lists.html">numbered list</a> for the directions.</p>
<p>For example, here is a recipe for marinated eggs: the properties drawer runs from <code>:PROPERTIES:</code> to <code>:END:</code>, followed by the ingredients prepended with <code>- [ ]</code>, then the directions and an endnote.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode org-mode"><code class="sourceCode orgmode"><a class="sourceLine" id="cb4-1" title="1"><span class="op">*** </span><span class="in">HAVEMADE </span><span class="op">Japanese Marinated Soft Boiled Egg for Ramen (Ajitsuke Tamago)          :weekend:japanese:</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">:PROPERTIES:</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="va">:Author:</span><span class="st"> J. Kenji L&#243;pez-Alt</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="va">:Source:</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="va">:Sent_by:</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="va">:Yield:</span><span class="st"> 6 eggs</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="va">:Prep_Time:</span><span class="st"> 0:10</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="va">:Cook_Time:</span><span class="st"> 4:00</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="va">:Total_Time:</span><span class="st"> 4:10</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="va">:Cost:</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="va">:Description:</span><span class="st"> Perfectly seasoned soft-boiled eggs for the best homemade ramen.</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="va">:URL:</span><span class="st"> https://www.seriouseats.com/recipes/2012/03/ajitsuke-tamago-japanese-marinated-soft-boiled-egg-recipe.html</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="va">:Added:</span><span class="st"> [2019-01-03 Thu]</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="va">:END:</span></a>
<a class="sourceLine" id="cb4-15" title="15">- [ ] 1 cup water</a>
<a class="sourceLine" id="cb4-16" title="16">- [ ] 1 cup sake</a>
<a class="sourceLine" id="cb4-17" title="17">- [ ] 1/2 cup soy sauce</a>
<a class="sourceLine" id="cb4-18" title="18">- [ ] 1/2 cup mirin</a>
<a class="sourceLine" id="cb4-19" title="19">- [ ] 1/2 cup sugar</a>
<a class="sourceLine" id="cb4-20" title="20">- [ ] 6 eggs</a>
<a class="sourceLine" id="cb4-21" title="21"></a>
<a class="sourceLine" id="cb4-22" title="22"></a>
<a class="sourceLine" id="cb4-23" title="23">1. Combine water, sake, soy, mirin, and sugar in a medium bowl and</a>
<a class="sourceLine" id="cb4-24" title="24">   whisk until sugar is dissolved. Set aside.</a>
<a class="sourceLine" id="cb4-25" title="25"></a>
<a class="sourceLine" id="cb4-26" title="26">2. Bring 2 quarts of water to a boil in a medium saucepan over high</a>
<a class="sourceLine" id="cb4-27" title="27">   heat. Pierce fat end of each egg with a thumbtack to make a tiny</a>
<a class="sourceLine" id="cb4-28" title="28">   hole (this prevents them from cracking and eliminates the air</a>
<a class="sourceLine" id="cb4-29" title="29">   bubble at the end). Carefully lower eggs into water with a wire</a>
<a class="sourceLine" id="cb4-30" title="30">   mesh spider or slotted spoon. Reduce heat to maintain a bare</a>
<a class="sourceLine" id="cb4-31" title="31">   simmer. Cook for exactly 6 minutes. Drain hot water and carefully</a>
<a class="sourceLine" id="cb4-32" title="32">   peel eggs under cold running water (the whites will be quite</a>
<a class="sourceLine" id="cb4-33" title="33">   delicate).</a>
<a class="sourceLine" id="cb4-34" title="34"></a>
<a class="sourceLine" id="cb4-35" title="35">3. Transfer eggs to a bowl that just barely fits them all. Pour</a>
<a class="sourceLine" id="cb4-36" title="36">   marinade on top until eggs are covered or just floating. Place a</a>
<a class="sourceLine" id="cb4-37" title="37">   double-layer of paper towels on top and press down until completely</a>
<a class="sourceLine" id="cb4-38" title="38">   saturated in liquid to help keep eggs submerged and marinating</a>
<a class="sourceLine" id="cb4-39" title="39">   evenly. Refrigerate and marinate at least four hours and up to 12.</a>
<a class="sourceLine" id="cb4-40" title="40">   Discard marinade after 12 hours. Store eggs in a sealed container</a>
<a class="sourceLine" id="cb4-41" title="41">   in the fridge for up to 3 days. Reheat in ramen soup to serve.</a>
<a class="sourceLine" id="cb4-42" title="42"></a>
<a class="sourceLine" id="cb4-43" title="43">Note: This recipe can be made using leftover broth from chashu pork.</a>
<a class="sourceLine" id="cb4-44" title="44">If you have this broth, replace all the ingredients in the marinade</a>
<a class="sourceLine" id="cb4-45" title="45">with the broth.</a></code></pre></div>
<p>The ingredients list is interactive: with the cursor on one of the list items, I can use <code>C-c C-c</code> to check or uncheck it. This is extremely useful for making shopping lists. The directions list has to be separated by <em>two</em> blank lines from the ingredients list, or org-mode will parse them as being part of the same list, and insist they both be bullets or both be numbers.</p>
<p>The properties drawer has slots for most of the metadata that comes with a recipe: author, yield, estimated time, etc., as well as one for the URL, and the date it was added to <code>Cooking.org</code>. Combined with the tag structure, it is a breeze to search for recipes by hitting <kbd>C-c / m</kbd> and typing in a <a href="https://orgmode.org/manual/Matching-tags-and-properties.html">match pattern</a>. This creates a <a href="https://orgmode.org/manual/Sparse-Trees.html">sparse tree</a>, which shows the titles of all matching recipes. For example, I can search for:</p>
<ul>
<li>Chinese recipes with the pattern <code>chinese</code>;</li>
<li>Chinese recipes that are <em>also</em> vegetarian with <code>chinese+vegetarian</code>;</li>
<li>Vegetarian Chinese recipes I&#8217;ve never made before with <code>chinese+vegetarian/NEVERMADE</code>;</li>
<li>Recipes I&#8217;ve added in the past month with <code>Added&gt;=&quot;&lt;-1m&gt;&quot;</code>, or since May with <code>Added&gt;=&quot;&lt;2020-05-01&gt;&quot;</code>;</li>
<li>Recipes that come together in less than 90 minutes with <code>Total_time&lt;&quot;1:30&quot;</code>;<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></li>
<li>Recipes from the New York Times with <code>URL={cooking.nytimes.com}</code>. The braces indicate a regular expression.</li>
</ul>
<p>There is also the <kbd>C-c / p</kbd> command for simple equality matches&#8212;for example, if I wanted to find all recipes by <a href="https://en.wikipedia.org/wiki/Amanda_Hesser">Amanda Hesser</a>&#8212;which supports tab completion.</p>
</section>
<section id="adding-recipes" class="level1">
<h1><span class="header-section-number">3</span> Adding recipes</h1>
<p>Although adding a new recipe is as easy as creating a new heading, it would be tedious to copy the properties drawer each time. A much easier way is to use <a href="https://orgmode.org/manual/Capture.html">capture</a>, which allows the quick &#8220;capturing&#8221; and filing of data from any open file. I keep the following <a href="https://orgmode.org/manual/Capture-templates.html">capture template</a> in my <code>~/.emacs</code> file:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode lisp"><code class="sourceCode commonlisp"><a class="sourceLine" id="cb5-1" title="1">(custom-set-variables</a>
<a class="sourceLine" id="cb5-2" title="2"> &#39;(org-capture-templates</a>
<a class="sourceLine" id="cb5-3" title="3">    &#39;((<span class="st">&quot;r&quot;</span> <span class="st">&quot;Recipe&quot;</span> entry</a>
<a class="sourceLine" id="cb5-4" title="4">      (file+headline <span class="st">&quot;~/org/Cooking.org&quot;</span> <span class="st">&quot;Unsorted recipes:&quot;</span>)</a>
<a class="sourceLine" id="cb5-5" title="5">      <span class="st">&quot;* NEVERMADE %? :weekday:</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="st">:PROPERTIES:</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="st">:Author:</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="st">:Source:</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="st">:Sent_by:</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="st">:Yield:</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="st">:Prep_Time:</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="st">:Cook_Time:</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="st">:Total_Time:</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="st">:Cost:</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="st">:Description:</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="st">:URL:</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="st">:Added: %u</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="st">:END:&quot;</span>))))</a></code></pre></div>
<p>I can add a recipe from any file by hitting <kbd>C-c c r</kbd>; org-mode will create a new recipe under <code>Unsorted Recipes</code> with the template above, and I just have to fill in the details. The <code>%u</code> is <a href="https://orgmode.org/manual/Template-expansion.html">automatically replaced</a> with the current date, and the <code>%?</code> tells org-mode where to put the cursor. Since most recipes follow the same basic pattern (paragraph of metadata, unnumbered list of ingredients, numbered list of directions), formatting the recipes as described above is very quick, with a few caveats: times have to be formatted as <code>HH:MM</code>, and the description can&#8217;t run into multiple paragraphs (I use <code>//</code> as a paragraph separator, but I&#8217;m not thrilled with this solution).</p>
<p>Finally, the new recipe can be easily refiled with <kbd>C-c C-w</kbd>.</p>
</section>
<section id="final-thoughts" class="level1">
<h1><span class="header-section-number">4</span> Final thoughts</h1>
<p>The main downside to this system is that there is no easy way to store images. Many recipes have <a href="https://smittenkitchen.com/2012/03/potato-knish-two-ways/">complicated assemblies</a> that are best explained in pictures. The best I can do is store a note that says something like &#8220;see pictures in original recipe&#8221;, which has been good enough so far.</p>
</section>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>In Emacs-speak, <kbd>C</kbd> is the control key, <kbd>M</kbd>, or &#8220;meta&#8221; is alt, and <kbd>S</kbd> is shift. So <kbd>M-2 S-Tab</kbd> means you hit alt-2, then shift-tab in sequence.<a href="#fnref1" class="footnote-back">&#8617;</a></p></li>
<li id="fn2"><p>This is just a subset for illustration; my actual table is larger.<a href="#fnref2" class="footnote-back">&#8617;</a></p></li>
<li id="fn3"><p>In this and the above example, notice the quotation marks.<a href="#fnref3" class="footnote-back">&#8617;</a></p></li>
</ol>
</section>
			</div>
		</article>
	</body>
</html>
